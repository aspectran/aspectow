<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE aspectran PUBLIC "-//ASPECTRAN//DTD Aspectran Configuration 6.0//EN"
        "http://aspectran.github.io/dtd/aspectran-6.dtd">
<aspectran>

    <aspect id="errorReport">
        <description>
            If an unexpected error occurs during translet processing, it prints
            an error message that matches the type of content being rendered.
        </description>
        <exception>
            <thrown>
                <echo hidden="true">
                    <item name="error">#{currentTranslet^rootCauseOfRaisedException}</item>
                </echo>
                <transform format="text">
                    <template style="apon">
                        |
                        |Ooops!
                        |-----------------------------------------------------------
                        |An unexpected error has occurred.
                        |
                    </template>
                </transform>
                <transform format="text" contentType="application/json">
                    <template style="apon">
                        |null2
                    </template>
                </transform>
                <dispatch name="templates/error" contentType="text/html" default="true"/>
            </thrown>
        </exception>
    </aspect>

</aspectran>